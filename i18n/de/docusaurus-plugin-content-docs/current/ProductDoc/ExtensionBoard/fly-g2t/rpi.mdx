---
sidebar_position: 2
sidebar_label: Raspberry Pi Benutzeranleitung
---

import Button from "@mui/material/Button";

import ImageView from '@site/src/components/ImageView';

# Raspberry Pi Benutzeranleitung

## Hinweise:

    * Stellen Sie sicher, dass der Hauptrechner vor der Installation der Erweiterungsplatine ausgeschaltet ist.
    * Vermeiden Sie die Nutzung der Erweiterungsplatine in feuchten oder staubigen Umgebungen.
    * Achten Sie beim Installieren des Bildschirms darauf, die Steckverbindungen nicht unter Spannung zu ziehen und die Richtung der Bildschirmleitung zu beachten, um Schäden zu vermeiden.
    * Achten Sie beim Installieren des Lüfters auf die Strom- und Spannungsspezifikationen des Lüfters, um Schäden zu vermeiden.
    * Beachten Sie, dass UART1 standardmäßig aktiviert ist und keine zusätzliche Konfiguration erforderlich ist.
    * Bitte laden Sie das neueste Image herunter, z.B. `mainsailos`, und führen Sie keine Kernel-Upgrades durch.
    * **Der Raspberry Pi kann alle Schnittstellen verwenden!!!**
    * **Hinweis: Das Betriebssystem des Raspberry Pi muss einen Kernel größer als `5.17.x` verwenden, führen Sie den Befehl `uname -r` aus, um die Kernel-Version zu überprüfen**

## Download-Link für das vorinstallierte TFTV2-System für Raspberry Pi

    * Geeignet für Raspberry Pi zero2/zero2W/2B/3B/3B+/4B/CM4/5B
    * Dieses Image enthält bereits klipper, moonraker, mainsail, fluidd, klipper-screen usw.

    ```bash
    https://cdn.mellow.klipper.cn/IMG/Beta/RPI-TFT-IMG-new.img.xz
    ```

## Installation des G2T

    * Hier ist eine Referenz
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-g2t/img/rpi.png').default} size="60%" align="left" />
    * Referenzschaltung
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-g2t/img/wiring.png').default} size="60%" align="left" />


## Verwendung des eingebauten RS232 zur Verbindung mit dem Toolboard

        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-g2t/img/rpi1.png').default} size="60%" align="left" />

    * Nach dem Flashen des neuesten Systems auf dem Raspberry Pi müssen Sie die **config.txt** Datei im Boot-Verzeichnis bearbeiten.
    * Beachten Sie, dass UART1 standardmäßig aktiviert ist und keine zusätzliche Systemkonfiguration erforderlich ist. UART3 muss jedoch wie folgt konfiguriert werden:
    * Fügen Sie in der **config.txt** Datei Folgendes hinzu:

    ```bash
    dtoverlay=uart3
    ```

    * Wenn Sie UART1 verwenden, lautet die ID wie folgt:

    ```cfg
    [mcu] 
    serial: /dev/ttyAMA0
    baud: 250000
    restart_method:command
    ```

    * Wenn Sie UART3 verwenden, lautet die ID wie folgt:

    ```cfg
    [mcu] 
    serial: /dev/ttyAMA1
    baud: 250000
    restart_method:command
    ```

## Verwendung des eingebauten 5VFAN

    * Wenn Sie Geräte über den 40PIN-Anschluss des Raspberry Pi steuern möchten, befolgen Sie die Klipper-Anleitung <Button variant="contained" disableElevation href="https://www.klipper3d.org/zh/RPi_microcontroller.html?h=rpi">RPi Mikrocontroller</Button>
        
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-g2t/img/fan.png').default} size="50%" align="left" />

    ```cfg
    [mcu host]       
    serial: /tmp/klipper_host_mcu 

    [temperature_sensor Raspberry Pi]
    sensor_type: temperature_host

    [temperature_fan core_fan] 
    pin: host:gpio12
    max_power: 1.0
    sensor_type: temperature_host   #Setzen Sie auf die Temperatur des Host-Controllers
    control:watermark                  #Kontrollmodus
    target_temp: 48                   #Starttemperatur des Lüfters des Host-Controllers
    min_temp: 0                     #Mindesttemperatur, darunter wird ein Fehler gemeldet
    max_temp: 90                    #Höchsttemperatur, darüber wird ein Fehler gemeldet
    off_below: 0.10
    kick_start_time: 0.50
    max_speed: 0.8                   #Maximaldrehzahl, 80% der Maximalleistung
    min_speed: 0.3                    #Mindestdrehzahl, 30% der Maximalleistung
    ```

## Bildschirmverwendung

    * GitHub-Adresse <Button variant="contained" disableElevation href="https://github.com/kluoyun/FLY-TFT">FLY-TFT</Button>

### 1. Einführung

    FLY-TFT-V2 ist ein TFT-LC-Display basierend auf st7796, unterstützt kapazitive und resistive Touch, hat eine Auflösung von 320x480 und verwendet eine SPI-Schnittstelle

### 2. Systeminstallation

    :::tip

    * Hinweis: Das Betriebssystem des Raspberry Pi muss einen Kernel größer als `5.17.x` verwenden, führen Sie den Befehl `uname -r` aus, um die Kernel-Version zu überprüfen
    * Laden Sie das neueste Image herunter, z.B. `mainsailos`, und führen Sie keine Kernel-Upgrades durch
    * Sie müssen <Button variant="contained" disableElevation href="https://klipperscreen.readthedocs.io/en/latest/Installation/">KlipperScreen</Button> selbst installieren

    :::

    * Verwenden Sie [Raspberry Imager](https://www.raspberrypi.com/software/), um das neueste **MainsailOS** zu installieren
        * Laden Sie und installieren Sie [Raspberry Imager](https://www.raspberrypi.com/software/) 
        * Öffnen Sie **Raspberry Imager**
        * Klicken Sie auf **CHOOSE DEVICE**
        * Wählen Sie das entsprechende Modell Ihres Geräts
        * Klicken Sie auf **CHOOSE OS**
        * Wählen Sie **Other specific-purpose OS**
        * Wählen Sie **3D printing**
        * Wählen Sie **Mainsail OS**
        * Wählen Sie die neueste Version. Wenn Ihr Setup 64-Bit unterstützt, wählen Sie **rpi64**
        * Klicken Sie auf **CHOOSE STORAGE**
        * Wählen Sie Ihr Speichergerät, z.B. eine SD-Karte
        * Klicken Sie auf **NEXT** und warten Sie auf den Abschluss der Installation

### 4. Treiberinstallation

    * Installieren Sie den FLY-TFT-V2-Treiber
    
        ```bash
        git clone https://github.com/kluoyun/FLY-TFT.git
        cd FLY-TFT
        sudo chmod +x ./scripts/install.sh
        ./scripts/install.sh
        ```
        
   