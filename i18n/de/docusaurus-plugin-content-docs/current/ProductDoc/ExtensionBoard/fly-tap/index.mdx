---
sidebar_position: 1
sidebar_label: Einführung
---

import ImageView from '@site/src/components/ImageView';

# TAP

## Anschlussdiagramm für TAP!

    :::warning Beachten Sie

    * Achten Sie darauf, den Tap nicht an den Servoanschluss anzuschließen, sondern an den Endschalteranschluss!!!

    :::

    <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-tap/img/tap.png').default} size="90%" align="left" />


## Konfigurationstutorial für TAP

    :::tip

    * Da der Tap die Düse direkt als Endschalter verwendet, gibt es keine XY-Verschiebung.

    :::

    :::tip

    * TAP verändert nur die Z-Endschaltung und den Sondierungspunkt.

    :::
    ```cfg

    [stepper_z]
    endstop_pin: probe:z_virtual_endstop
    # endstop_pin: ^sht36:PA1  
    # position_endstop: -0.5        

    [probe]
    pin: ^sht36:PA1              # Signalanschluss
    x_offset: 0                  # X-Achse - Versatz des Sensors relativ zur Düse
    y_offset: 0                  # Y-Achse - Versatz des Sensors relativ zur Düse
    #z_offset: 0                 # Z-Achse - Versatz des Sensors relativ zur Düse
    speed: 3.0                   # Ebnungsgeschwindigkeit
    lift_speed: 5                # Geschwindigkeit zum Anheben der Sonde
    samples: 3                   # Anzahl der Proben
    samples_result: median       # Auswahlmethode (Standard median - Median)
    sample_retract_dist: 3.0     # Rückzugsdistance beim Ebnen
    samples_tolerance: 0.075     # Proben-Toleranz (Beachten Sie, dass zu kleine Werte die Anzahl der Proben erhöhen können)
    samples_tolerance_retries: 3 # Anzahl der Wiederholungen bei Toleranzüberschreitung
    activate_gcode:
        {% set PROBE_TEMP = 150 %}
        {% set MAX_TEMP = PROBE_TEMP + 5 %}
        {% set ACTUAL_TEMP = printer.extruder.temperature %}
        {% set TARGET_TEMP = printer.extruder.target %}

        {% if TARGET_TEMP > PROBE_TEMP %}
            { action_respond_info('Die Extruder-Zieltemperatur von %.1fC ist zu hoch, wird auf %.1fC gesenkt' % (TARGET_TEMP, PROBE_TEMP)) }
            M106 S255
            M109 S{ PROBE_TEMP }
            M106 S26
        {% else %}
            # Zieltemperatur ist bereits niedrig genug, aber die Düse kann immer noch zu heiß sein.
            {% if ACTUAL_TEMP > MAX_TEMP %}
                { action_respond_info('Die Extruder-Temperatur %.1fC ist immer noch zu hoch, warten bis unter %.1fC' % (ACTUAL_TEMP, MAX_TEMP)) }
                TEMPERATURE_WAIT SENSOR=extruder MAXIMUM={ MAX_TEMP }
            {% endif %}
        {% endif %}

    ```

## Änderung des Start-Makros
    * Effekt
    <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-tap/img/klipper.png').default} size="80%" align="left" />

### PrusaSlicer Start-Makro Änderung 

    ```bash
    M109 S150
    print_start
    M109 S[first_layer_temperature]
    ```

### CURA Start-Makro Änderung

    ```bash
    M109 S150
    print_start
    M109 S{material_print_temperature_layer_0} ;Start heating extruder
    ```

### Orca-Slicer Start-Makro Änderung

    ```bash
    M190 S[bed_temperature_initial_layer_single]
    M109 S150
    print_start  PRINT_MIN={first_layer_print_min[0]},{first_layer_print_min[1]} PRINT_MAX={first_layer_print_max[0]},{first_layer_print_max[1]}
    M109 S[nozzle_temperature_initial_layer]
    ```