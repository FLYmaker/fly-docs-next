---
sidebar_position: 5
---

import Button from "@mui/material/Button";

import ImageView from '@site/src/components/ImageView';

import DIAG from '@site/i18n/de/docusaurus-plugin-content-docs/current/ProductDoc/ModuleDrive/_diag.mdx';

# TMC 5160 Pro V1.5

    <ImageView image={require('@site/docs/ProductDoc/ModuleDrive/img/5160pro-1.5.png').default} size="80%" align="center" />

## Grundlegende Parameter

    * Eingangsspannung: 24-48V
    * Maximaler Strom: 6A
    * Geeignet für: Marlin/Klipper/RRF Firmware
    * Unterstützte Treibermodi: TMC：SPI
    * Schritt-/Richtungs-Schnittstelle mit Microstep-Interpolation microPlyer
    * Höchste Auflösung von 256 Schritten
    * Unterstützt stealthChop2 für leise Betriebsmodus und flüssige Bewegungen
    * Unterstützt Resonanzdämpfung bei mittleren Frequenzen
    * Unterstützt spreadCycle Hochdynamik-Motorsteuerung
    * Unterstützt dcStep Lastabhängige Geschwindigkeitskontrolle
    * Unterstützt stallGuard2 hochpräzise sensorlose Motorlastdetektion
    * Unterstützt coolStep Stromkontrolle, spart bis zu 75% Energie

## Erklärung der Hauptplatine

    * TMC5160 Pro verwendet SPI-Jumper
    * Der SPI-Anschluss des FLY-Treibers ist der vierte Anschluss von oben links. Wenn die Hauptplatine nicht den entsprechenden Anschluss hat, kann SPI nicht verwendet werden.
        <ImageView image={require('@site/docs/ProductDoc/ModuleDrive/img/jumper.png').default} size="100%" align="center" />

## Installation des FPC auf der Hauptplatine

        <ImageView image={require('@site/docs/ProductDoc/ModuleDrive/img/line.png').default} size="80%" align="center" />

## 12V Lüfteranschluss

        <ImageView image={require('@site/docs/ProductDoc/ModuleDrive/img/5160pro-fan.png').default} size="80%" align="center" />


## TMC5160 Pro Referenzkonfiguration

    :::danger

    * Der Treibersamplingwiderstand beträgt `sense_resistor: 0.033`, bitte setzen Sie diesen nicht falsch
    * `spi_bus` und `spi_software` können nur eines gewählt werden
    
    :::

### SPI-Modus Referenzkonfiguration

    ```cfg
    [tmc5160 stepper_x]
    cs_pin:
    spi_bus:
    # spi_software_mosi_pin:
    # spi_software_miso_pin:
    # spi_software_sclk_pin: 
    run_current: 1.0                    # Motorlaufstromwert
    interpolate: False                  # Aktivieren der 256 Microstep-Interpolation (True für aktiviert, False für deaktiviert)
    sense_resistor: 0.033
    stealthchop_threshold: 0
    driver_DISS2G: 1
    driver_DISS2VS: 1
    ```

## Unendliche Positionierung

    <DIAG />

    :::tip Hinweise zur unendlichen Positionierung

    * Dieser Treiber benötigt die Installation des 4-Pin-FPC, um verwendet zu werden
    * Das ursprüngliche `endstop_pin:` muss deaktiviert oder entfernt werden, dann `endstop_pin: tmc5160_stepper_x:virtual_endstop` hinzufügen
    * Nach der Konfiguration von `diag0_pin:` wird der Endschalterstatus als nicht ausgelöst angezeigt
    * Die Einstellung `driver_SGT:` erfordert das Testen eines geeigneten Werts

    :::

    * Referenzkonfiguration

    ```cfg
    [stepper_x]
    # endstop_pin:PF3
    endstop_pin: tmc5160_stepper_x:virtual_endstop
    homing_retract_dist: 0        # Rückzug nicht auf 0 ändern, sonst kann Homing fehlschlagen

    [tmc5160 stepper_x]
    diag0_pin: ^!
    driver_SGT: 1

    #   Stellen Sie sicher, dass der Endschalterstatus nach der Konfiguration als nicht ausgelöst angezeigt wird
    #   Dieser Anschluss verwendet normalerweise das Präfix "^" zur Aktivierung des internen Pull-Ups
    #   Die Empfindlichkeit hängt von der Spannung des Riemens ab und muss angepasst werden
    #   (Stellen Sie sicher, dass gleichzeitig `driver_SGTHRS` auf einen geeigneten Empfindlichkeitswert gesetzt ist)

    ```