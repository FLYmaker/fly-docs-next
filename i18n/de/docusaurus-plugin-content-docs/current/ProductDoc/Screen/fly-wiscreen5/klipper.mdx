---
sidebar_position: 4
sidebar_label: WIFI-Verbindung und Klipper-Konfiguration
---

import ImageView from '@site/src/components/ImageView';

import Button from "@mui/material/Button";


    :::tip

    Das Gerät hat bereits eine Firmware vorinstalliert, aber es wird empfohlen, diese manuell zu aktualisieren.

    :::

## Download der Bildschirm-Firmware

    * <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/wiscreen/wiscreen5/WIFI/update.img">Bildschirm-Firmware herunterladen</Button>

    * Es wird eine Speicherkarte mit einer Kapazität von nicht mehr als 32G benötigt. Die Übertragungsgeschwindigkeit der TF-Karte muss mindestens der Klasse 10 entsprechen, empfohlen werden Marken wie SanDisk.

## WIFI-Verbindung und grundlegende Bedienung

    [7-Zoll-WiFi-Kapazitivbildschirm zur Steuerung mehrerer Maschinen](https://www.bilibili.com/video/BV1mr421b7Bf/?spm_id_from=333.788&vd_source=36affb37d7228751cd1fcbbda487dfdf)

## Klipper-Konfiguration

### LED-Konfiguration

    ```cfg
    [led LED]
    white_pin:PA15
    ```

### PTC-Konfiguration

    ```cfg
    [heater_generic warehouse]
    heater_pin:E_CS
    sensor_type:ATC Semitec 104GT-2
    sensor_pin:PA1
    min_temp:-270
    max_temp:600
    control = pid
    pid_kp = 16.804
    pid_ki = 0.794
    pid_kd = 88.854
    ```

### FAN-Konfiguration

    ```cfg
    [fan_generic fan1]
    pin: FAN1
    ```


    ```cfg
    [fan_generic fan2]
    pin: FAN2
    ```

### Benutzerdefinierter Gcode

    * Nach dem Herunterziehen des Bildschirms erscheinen benutzerdefinierte Gcodes,
    * Ein Button sendet mehrere Gcodes im Format:
    * Beispiel:

    ```cfg
    G91 
    G1 X10 F6000
    G90
    ```

    * Eingabefomat auf dem Bildschirm: (ab der zweiten Zeile, jedes Kommando mit \n beginnen)

    ```cfg
    G91\nG1 X10 F6000\nG90
    ```



## Objektausnahmen verwenden

    * Moonraker muss ersetzt werden

    * Stellen Sie zuerst eine SSH-Verbindung her und stellen Sie sicher, dass Sie Zugang zum Internet haben

    1. Sichern Sie die Moonraker-Datei

    ```bash
    mv ~/moonraker ~/moonraker-bak
    ```

    2. Beenden Sie den Moonraker-Dienst

    ```bash
    sudo systemctl restart moonraker
    ```

    3. Laden Sie Moonraker herunter

    ```bash
    git clone https://e.coding.net/g-ofpa1390/3D-Printers/moonraker-dev.git -b flylcd-dev moonraker
    ```

    4. Gehen Sie im Browser zu Ihrer Host-Maschine und suchen Sie `moonraker.conf` zum Hinzufügen, dann starten Sie das System neu

    ```bash
    [network]
    ```

    5. Geben Sie dann im Browser die folgende Adresse ein, wobei IP durch die IP-Adresse der Host-Maschine ersetzt werden muss

    ```bash
    http://ip:7125/server/network/wifi/scan
    ```

* Dies bedeutet, dass die Operation abgeschlossen ist
    
    <ImageView image={require('@site/docs/ProductDoc/Screen/fly-wiscreen7/img/moonraker.png').default} size="100%" align="left" />