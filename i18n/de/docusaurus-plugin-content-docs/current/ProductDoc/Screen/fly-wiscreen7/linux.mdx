---
sidebar_position: 5
sidebar_label: Anleitung zur Nutzung von Ethernet mit Raspberry Pi und anderen Hostcomputern
---

import ImageView from '@site/src/components/ImageView';

import Button from "@mui/material/Button";


# Anleitung zur Nutzung von Ethernet

    :::tip

    Die Firmware des Ethernet-Bildschirms muss manuell aktualisiert werden

    :::

## Herunterladen der Bildschirmfirmware

    * <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/wiscreen/wiscreen7/Cable/update.img">Klicken Sie hier, um die Bildschirmfirmware herunterzuladen</Button>

    * Sie benötigen eine Speicherkarte mit einer Kapazität von nicht mehr als 32 GB. Die Übertragungsgeschwindigkeit der TF-Karte muss mindestens Klasse 10 sein. Es wird empfohlen, Marken wie SanDisk für die TF-Karte zu verwenden.


## Anschluss des Ethernet-Kabels

    <ImageView image={require('@site/docs/ProductDoc/Screen/fly-wiscreen7/img/fpc.png').default} size="100%" align="left" />


## Paket für FLY Hostcomputer-System

:::tip
Gilt für die Serien C8 PI_V2 PI GEMINI
:::

    * <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/IMG/Beta/FLY_OS%E7%BD%91%E7%BA%BF%E5%B1%8F%E7%B3%BB%E7%BB%9F.img.xz">Systempaket herunterladen</Button>


## Installation des Dienstes

:::tip
Andere Hostcomputer müssen den Dienst selbst installieren
:::

:::warning Hinweis
Der Installationsprozess erfordert eine Internetverbindung
:::
    ```bash
    sudo apt install isc-dhcp-server
    ```
## Netzwerkkonfiguration

:::tip
* Diese Anleitung wird die Netzwerkbuchse des Hostcomputers belegen, es kann nur der Bildschirm angeschlossen werden
* Wenn dies nicht gewünscht ist, löschen Sie einfach alle unten vorgenommenen Änderungen und Ergänzungen der Konfiguration
:::
    Ändern Sie`/etc/network/interfaces.d/eth0`

    ```bash
    auto eth0
    iface eth0 inet static
    address 192.168.251.100
    netmask 255.255.255.0
    broadcast 192.168.251.255
    network 192.168.251.0
    gateway 192.168.251.1
    ```

    Ändern Sie`/etc/default/isc-dhcp-server`

    ```bash
    # Defaults for isc-dhcp-server (sourced by /etc/init.d/isc-dhcp-server)

    # Path to dhcpd's config file (default: /etc/dhcp/dhcpd.conf).
    #DHCPDv4_CONF=/etc/dhcp/dhcpd.conf
    #DHCPDv6_CONF=/etc/dhcp/dhcpd6.conf

    # Path to dhcpd's PID file (default: /var/run/dhcpd.pid).
    #DHCPDv4_PID=/var/run/dhcpd.pid
    #DHCPDv6_PID=/var/run/dhcpd6.pid

    # Additional options to start dhcpd with.
    #       Don't use options -cf or -pf here; use DHCPD_CONF/ DHCPD_PID instead
    #OPTIONS=""

    # On what interfaces should the DHCP server (dhcpd) serve DHCP requests?
    #       Separate multiple interfaces with spaces, e.g. "eth0 eth1".
    INTERFACESv4="eth0"
    #INTERFACESv4="eth0"
    INTERFACESv6=""
    #INTERFACES="eth0"

    INTERFACES="eth0"
    ```

    Ändern Sie`/etc/dhcp/dhcpd.conf`, fügen Sie am Ende folgenden Inhalt hinzu

    ```bash
    # ddns-update-style none;
    subnet 192.168.251.0 netmask 255.255.255.0 {
        range 192.168.251.100 192.168.251.200;
        option routers 192.168.251.1;
        option domain-name-servers 8.8.8.8, 8.8.4.4; # Google Public DNS als Beispiel
        default-lease-time 600; # Standardmäßige Leasingzeit in Sekunden
        max-lease-time 7200;    # Maximale Leasingzeit in Sekunden
    }
    ```

    Starten Sie das System neu, und führen Sie dann die folgenden Befehle zur Dienstneustart aus

    oder starten Sie den Netzwerkdienst neu

    ```bash
    sudo systemctl restart NetworkManager
    ```

    Dieser Vorgang trennt und verbindet das Netzwerk erneut

    Dienst neu starten

    ```bash
    sudo systemctl restart isc-dhcp-server
    ```

    Die IP-Adresse des Rechners sollte `192.168.251.100` sein

## Erhöhung der WIFI-Priorität

:::tip
* Dieser Befehl erhöht die Netzwerkpriorität. Ohne ihn kann keine normale Internetverbindung für Downloads usw. hergestellt werden!!!
:::
    * Bitte fügen Sie den folgenden Befehl in `/etc/rc.local` des Hostcomputers hinzu

    ```bash
    sudo ip route del default && sudo ip route add default via $(ip route show dev wlan0 | grep 'default via' | awk 'NR==1 {print $3}') dev wlan0
    ```