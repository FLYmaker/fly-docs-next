---
sidebar_position: 4
sidebar_label: RS232 Firmware Flashing
---

import USBFLASH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rp2.mdx';
import MakeOperate from "/docs/General/klipper-make/_make-operate.mdx";
import RS232 from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rs232.mdx';
import SSH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/_ssh.mdx';
import ImageView from '@site/src/components/ImageView';
import LS from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_uf2.mdx';

# RS232 Firmware Compilation

## Start Compilation

    <SSH />

    <MakeOperate/>

    <RS232 />

    * Select GPIO pins to set at micro-controller startup, enter: !gpio5 Please note that ! is uppercase
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/rs232.png').default} size="100%" align="center" />
    * Press the `Q` key, when **Save configuration** appears, press the `Y` key
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.png').default} size="50%" align="center" />
    * The configuration should now be saved and you should be back to the command line interface
    * Enter `make -j4` to start the compilation, which will take some time
        <ImageView image={require('@site/docs/General/dfu-flash/img/make.png').default} size="50%" align="center" />
    * If the following output appears at the end, the compilation was successful

        ```bash
        Linking out/klipper.elf
        Creating uf2 file out/klipper.uf2
        ```

## Enter Flashing Mode

    :::tip

    The left button is the `RESET button`, and the right button is the `BOOT button`

    :::

    * There are two methods to enter DFU mode
    * First method: With the board completely powered off, hold the BOOT button while connecting one end of the data transfer cable to the board and the other end to the host computer
    * Second method: With the data transfer cable already connected to both the board and your host computer, hold the BOOT button, then press the RST button, release the RST button, and finally release the BOOT button
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/boot.png').default} size="100%" align="center" />

## Confirm Entering Flashing Mode

    <LS />


## Flash the Firmware 
    
    <USBFLASH />
    


## Confirm Firmware Startup

    * If the firmware starts normally, the LED will light up
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/led.png').default} size="100%" align="center" />
