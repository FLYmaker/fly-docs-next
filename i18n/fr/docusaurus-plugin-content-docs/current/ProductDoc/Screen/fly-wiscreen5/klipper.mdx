---
sidebar_position: 4
sidebar_label: Connexion WIFI et configuration de Klipper
---




    :::tip

    Le firmware est déjà pré-installé en usine, mais il est recommandé de le mettre à jour manuellement.

    :::

## Téléchargement du firmware de l'écran

    * <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/wiscreen/wiscreen5/WIFI/update.img">Cliquez ici pour télécharger le firmware de l'écran</Button>

    * Vous avez besoin d'une carte mémoire de moins de 32 Go, la vitesse de transfert de la carte TF doit être de classe 10 ou supérieure, il est recommandé d'utiliser une carte TF de marque comme SanDisk.

## Connexion WIFI et opérations de base

    [Écran tactile capacitif WiFi de 7 pouces pour contrôler plusieurs machines](https://www.bilibili.com/video/BV1mr421b7Bf/?spm_id_from=333.788&vd_source=36affb37d7228751cd1fcbbda487dfdf)

## Configuration de Klipper

### Configuration LED

    ```cfg
    [led LED]
    white_pin:PA15
    ```

### Configuration PTC

    ```cfg
    [heater_generic warehouse]
    heater_pin:E_CS
    sensor_type:ATC Semitec 104GT-2
    sensor_pin:PA1
    min_temp:-270
    max_temp:600
    control = pid
    pid_kp = 16.804
    pid_ki = 0.794
    pid_kd = 88.854
    ```

### Configuration du ventilateur

    ```cfg
    [fan_generic fan1]
    pin: FAN1
    ```


    ```cfg
    [fan_generic fan2]
    pin: FAN2
    ```

 

### Gcode personnalisé

    * Après avoir fait défiler l'écran vers le bas, le Gcode personnalisé apparaît,
    * Un bouton envoie plusieurs commandes Gcode au format :
    * Exemple :

    ```cfg
    G91 
    G1 X10 F6000
    G90
    ```

    * Format d'entrée sur l'écran : (à partir de la deuxième ligne, ajoutez \n avant chaque commande)

    ```cfg
    G91\nG1 X10 F6000\nG90
    ```



## Utilisation de l'exclusion d'objets

    * Il est nécessaire de remplacer Moonraker

    * Veuillez d'abord vous connecter via SSH et assurez-vous d'avoir une connexion Internet fonctionnelle.

    1. Sauvegarder le fichier Moonraker

    ```bash
    mv ~/moonraker ~/moonraker-bak
    ```

    2. Arrêter le service Moonraker

    ```bash
    sudo systemctl restart moonraker
    ```

    3. Cloner Moonraker

    ```bash
    git clone https://e.coding.net/g-ofpa1390/3D-Printers/moonraker-dev.git -b flylcd-dev moonraker
    ```

    4. Dans le navigateur, accédez à la machine hôte et trouvez `moonraker.conf` pour l'ajouter, puis redémarrez le système

    ```bash
    [network]
    ```

    5. Ensuite, dans le navigateur, entrez l'adresse ci-dessous, en remplaçant l'IP par l'adresse IP de la machine hôte

    ```bash
    http://ip:7125/server/network/wifi/scan
    ```

* Cette étape indique que l'opération est terminée
    
    <ImageView image={require('@site/docs/ProductDoc/Screen/fly-wiscreen7/img/moonraker.png').default} size="100%" align="left" />