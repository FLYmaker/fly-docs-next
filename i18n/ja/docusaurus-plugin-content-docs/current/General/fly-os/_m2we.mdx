import WIN32 from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/fly-os/_win32.mdx';

# USBを使ってM2WEに書き込む準備

### 準備作業

    * まず`Win32DiskImager`ソフトウェアをインストールしてください
    * `balenaetcher`を使用してシステムを書き込むことは推奨されません
    * システムを解凍し、解凍後のファイル名の拡張子は`.img`となります
    * [M2WE BOOTドライバー](/docs/ResDownload/auxiliary_software/ "クリックして移動") をダウンロード

### ドライバーのインストール

    * `Zadig`ソフトウェアを開く
    * 最初の`Zadig`はインストール不要で直接実行可能、他の2つはインストールが必要です。インストール中はすべて「次へ」または「Next」をクリックしてください
    * `Zadig`を開き、メニューバーの`Options`で`List All Devices`をチェック

    <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />

:::tip
確実にキーを押した状態でデバイスをPCに接続してください
:::

    * M2WEをインストールし、BOOTキーを押しながらUSBの両端をPCに接続

    <ImageView image={require('@site/docs/General/fly-os/img/usb-boot.webp').default} size="80%" align="center" />
            <Tabs>
                <TabItem value="c8" label="FLY-C8" default>
                    * FLY-C8 ポート

                    <ImageView image={require('@site/docs/General/fly-os/img/c8-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv2" label="FLY-Pi v2" default>
                    * FLY-Pi v2 ポート

                    <ImageView image={require('@site/docs/General/fly-os/img/piv2-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv1" label="FLY-Pi(π)" default>
                    * FLY-Pi ポート

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="gemini" label="FLY-Gemini" default>
                    * FLY-Gemini ポート

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />

                </TabItem>
            </Tabs>

    * zadigを開く

    <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="left" />

    * すべてが正常であれば、zadigに`Unknow Device #x`または`USB Device(VID_1f3a_PID_efe8)`が追加されるので、それを選択

    <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="left" />

    * デバイスを選択したら、USB IDが上図と一致するか確認してください。一致しない場合は他のデバイスを再選択してください
    * 上図の2番目の部分は`WinUSB(vxxxxxxx)`のみ選択可能、ビルド番号は関係ありません
    * `Install Driver`をクリックしてドライバーをインストール

    <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="left" />

    * USBドライバーのインストールが成功しました（ドライバーは一度だけインストールすれば良く、次回の書き込みでは不要です）
    * インストールしたFLY-BOOTを開き、`デバイスの確認`をクリック
    * 前の手順が正しければ、利用可能なデバイスが検出されます
    * `BOOT`の起動をクリックし、正常であれば`BOOT`が成功したと表示されます

### M2WEのフォーマット

    * `TFFormatter.exe`ソフトウェアを使用して`BOOT`ディスクをフォーマット

    <ImageView image={require('@site/docs/General/fly-os/img/sdformatter.webp').default} size="80%" align="left" />

    * または、WINのディスク管理を使用してパーティションを削除し、削除後に新しいパーティションを作成
    * これでファイルエクスプローラーを開くと、14.5GBのUSBメモリが追加されます（16GB eMMCの表示サイズは14.5GB）
    * これでWin32diskimagerを使用してシステムイメージを書き込むことができます。ディスクのドライブレターはこの14.5GBのUSBメモリのものを選んでください



### M2WEへの書き込み

<WIN32 />