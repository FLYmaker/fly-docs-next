---
sidebar_position: 4
sidebar_label: ワイヤレス接続設定
---





# ワイヤレスボタンの追加

    :::info 重要な注意
    * ワイヤレスボタンは電池を装着する必要があります。電池の型番は`CR927`です。
    :::

    * ホームに戻った後、図の赤い枠内の`+`をクリックします。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button.png').default} size="80%" align="Center" />
    * 下記のような画面が表示された後、電池を装着したワイヤレスボタンを通常通りに押してください。
    * 赤い枠内にワイヤレスボタンのIDが自動的に生成されます。このIDはユニークです。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-1.png').default} size="80%" align="Center" />
    * 赤い枠内にボタンの名前を入力してください。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-2.png').default} size="80%" align="Center" />
    * 最初の赤い枠をクリックすると、二番目の青い枠が表示されます。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-3.png').default} size="80%" align="Center" />



    :::danger 注意

    * カスタムGCODEとAPIのリクエストはワイヤレス接続を通じて制御されます。
    * GPIOのトリガーは有線接続を通じて制御されます。

    :::

## カスタムGCODE
    * カスタム`GCODE`は、赤い枠内に実行したいコードまたはマクロ名を入力すると、AirClickが自動的にKlipperに送信します。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/gcode.png').default} size="80%" align="Center" />

## APIのリクエスト
    * カスタムマクロ、緊急停止、Klipperの再起動、ファームウェアの再起動、システムのシャットダウンなどが可能です。
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/api.png').default} size="80%" align="Center" />

## GPIOのトリガー
    * GPIOのトリガーにはSTM32F072とKlipperの接続が必要です。
    * ファームウェアの書き込みと接続についてはこのドキュメントを参照してください <Button variant="contained" disableElevation href="/docs/ProductDoc/ExtensionBoard/fly-airclick/offline-operation-support">ファームウェアの書き込みと接続</Button>
    * 使用可能なIOは`PB0`から`PB9`までの10個のIOです。ファームウェアを正常に書き込みKlipperに接続した後、以下の設定を参考にして設定してください。
    
        ```cfg
        [mcu AirClick]
        serial: /dev/serial/by-id/usb-Klipper_stm32f072xb_AirClick-if00
        ### この部分はUSB IDを検索してから変更する必要があります。

        [gcode_button _test]
        pin: ^!AirClick:PB0
        press_gcode:
            M118 PB0

        [gcode_button _test1]
        pin: ^!AirClick:PB1
        press_gcode:
            M118 PB1

        [gcode_button _test2]
        pin: ^!AirClick:PB2
        press_gcode:
            M118 PB2

        [gcode_button _test3]
        pin: ^!AirClick:PB3
        press_gcode:
            M118 PB3

        [gcode_button _test4]
        pin: ^!AirClick:PB4
        press_gcode:
            M118 PB4

        [gcode_button _test5]
        pin: ^!AirClick:PB5
        press_gcode:
            M118 PB5

        [gcode_button _test6]
        pin: ^!AirClick:PB6
        press_gcode:
            M118 PB6

        [gcode_button _test7]
        pin: ^!AirClick:PB7
        press_gcode:
            M118 PB7

        [gcode_button _test8]
        pin: ^!AirClick:PB8
        press_gcode:
            M118 PB8

        [gcode_button _test9]
        pin: ^!AirClick:PB9
        press_gcode:
            M118 PB9
        ```