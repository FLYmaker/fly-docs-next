---
sidebar_position: 1
sidebar_label: ファームウェアの書き込み説明
---

import CANBOOT from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/katapult/_katapult.mdx';

    :::tip

    * MMUはUSBとCAN接続のKatapultファームウェアを提供しており、必要に応じて自分で書き込むことができます。
    * MMUは出荷時にCAN接続のKatapultファームウェアが事前に書き込まれ、速度は1Mです。
    * <Button variant="contained" disableElevation href="./bl">Katapultファームウェアの書き込み</Button>

    :::

# ファームウェアの書き込み説明

    * MMUはRS232、CAN、USBの3つの接続方法を使用して上位機と接続することができます。
    * その中で、RS232とCANは`XT30(2+2)-F`を使用して接続する必要があり、USBはデータ転送機能を持つ`TYPE-C`ケーブルを使用して接続します。
    * 以下は`XT30(2+2)-F`データケーブルのスタイルです。
        <ImageView image={require('@site/docs/General/get-id/img/xt30.png').default} size="80%" align="left" />

:::danger 注意

* メインボードのファームウェアの書き込みはKatapultを通じてKlipperを書き込む必要があります。
* メインボードにKatapultがすでに書き込まれていることが確認できれば、最後のKatapultファームウェアの書き込みは不要です。それはメインボードのKatapultファームウェアが正常に書き込まれていない場合の予防措置です。
* リセットボタンを2回素早く押した後に、メインボード上にLEDが点滅すれば、メインボードがKatapultファームウェアに入ったことを示します。

:::

## 必要なファームウェアをどのように判断するか

    * MMUは以下の方法で上位機と接続することができます。
    * <Button variant="contained" disableElevation href="./can">CANファームウェアの書き込み</Button>
        * 利点：`Katapult`ファームウェアを書き込めば、メインボードに触れることなくファームウェアを更新でき、バス接続をサポートします。
        * 欠点：`KlipperScreen`と一緒に使用すると、ホームポジションのタイムアウトなどのエラーが発生する可能性があります。
        * 注意：CANを使用する場合、上位機がCANをサポートしているか確認し、UTOCまたはブリッジファームウェアを書き込んだメインボードが必要です。
    * <Button variant="contained" disableElevation href="./rs232">RS232ファームウェアの書き込み</Button>
        * 利点：特別なソフトウェアが不要で、通信が信頼性があり、安定しています。
        * 欠点：ファームウェアの再書き込みには手動DFUに入るか、RSTを2回押して`Katapult`に入る必要があります。
        * 注意：G2TまたはUTORが必要です。
    * <Button variant="contained" disableElevation href="./usb">USBファームウェアの書き込み</Button>
        * 利点：Katapultファームウェアを書き込めば、メインボードに触れることなくファームウェアを更新できます。メモリカードやDFUで書き込んだ場合は、以前の方法で更新する必要があります。通信が信頼性があり、安定しています。
        * 欠点：複数のUSBデバイスがあるとデータ転送に影響を与える可能性があります。

## Katapultファームウェアの説明

    <CANBOOT />