---
sidebar_position: 2
---


import ImageView from '@site/src/components/ImageView';

# Описание прошивки

    :::danger Важно

    * Лучше всего использовать прошивку Klipper, скомпилированную вашим хостом
    * Использование прошивки, скомпилированной другими людьми, или разных версий прошивки может привести к различным проблемам
    * По возможности, не используйте модифицированные хосты

    :::

## Специальные указания

    :::info Специальные указания
    * Большинство плат FLY уже прошиты прошивкой `Katapult` при выходе с завода
    * Сейчас для прошивки `Klipper` на платы FLY в основном используется прошивка `Katapult`
    * Платы DP5, D5 и D7 требуют ручной прошивки соответствующей прошивки `Katapult`
    * Из-за влияния предыдущей прошивки после прошивки `Katapult` для поиска ID платы может потребоваться дважды нажать кнопку сброса, иначе прошивка не будет установлена
    :::

## Описание компиляции прошивки

    :::tip

    * Платы FLY используют `Katapult` и загрузчик с SD-карты
    * Преимущество прошивки `Katapult` - возможность обновления прошивки без физического контакта с платой
    * Преимущество загрузчика - отсутствие риска установки неверной прошивки
    * Лучше всего использовать `MobaXterm` для настройки прошивки, по отзывам участников группы, некоторые специальные SSH-программы могут привести к сбоям в компиляции
    
    :::

    * Обратите внимание, что для любой прошивки важно убедиться в правильности компиляции, иначе это может привести к невозможности нормальной печати или даже к неопределению устройства

## Описание компиляции прошивки

    :::tip
    * Обратите внимание, что нужно выбрать опцию `Enable extra low-level configuration options`, иначе конкретные настройки не будут отображаться
    :::

### STM32

    * Если при компиляции прошивки для STM32 требуется настроить `GPIO pins to set at micro-controller startup`, пожалуйста, убедитесь, что все буквы в названиях пинов написаны заглавными

### RP2040

    * Если при компиляции прошивки для RP2040 требуется настроить `GPIO pins to set at micro-controller startup`, пожалуйста, убедитесь, что все буквы в названиях пинов написаны строчными

## Описание прошивки

    :::danger Важно

    * Прошивка `Klipper` через `Katapult` требует, чтобы устройство было найдено, если устройство не найдено, нужно дважды нажать кнопку сброса на плате
    * Не используйте методы прошивки, отличные от описанных в инструкциях
    * Проверьте, нет ли ошибок компиляции прошивки, иначе прошивка не будет установлена корректно

    :::

### Прошивка Katapult

    * Решение проблемы, если прошивка с ошибкой была установлена с помощью `Katapult`
    * Дважды нажмите кнопку сброса на плате, обычно после этого загорится светодиод
    * Очистите прошивку платы, затем заново прошейте `Katapult`

### Прошивка bootloader

    * Решение проблемы, если прошивка с ошибкой была установлена с помощью загрузчика
    * Повторно используйте SD-карту для прошивки
    * Если прошивка не устанавливается, сначала отключите питание, установите SD-карту на плату, затем подключите питание, прошивка должна установиться в течение пяти секунд

