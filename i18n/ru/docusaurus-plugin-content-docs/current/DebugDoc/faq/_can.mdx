import ImageView from '@site/src/components/ImageView';

----

# Определение проблемы по ошибке

    * Внизу приведены общие ошибки
        * OSError: [Errno 19] No such device
        * can.CanError: Failed to transmit: [Errno 100] Network is down
        * can.CanError: Failed to transmit: [Errno 105] No buffer space available
    * Первый случай — верховой узел не находит устройство с адресом `1d50:606f`
    * Второй случай — верховая сеть не настроена или настроена неправильно для CAN0
    * Третий всегда происходит в связи с недостаточным кэшем верхового узла или проблемами системы, приводящими к падению кэша
    * Второй и третий случай могут быть проверены подключением CAN0, анализом ошибок
    * Если ID не найден, см. ниже

## Проверка поддержки CAN в верховном узле

    * Если вы используете верховой узел FLY, этот шаг можно пропустить
    * Если ваша система — Ubuntu, рекомендуется перейти на другую систему: настройка CAN в Ubuntu очень сложна
    * Введите следующую команду для проверки наличия поддержки CAN

    ```bash
    sudo modprobe can && echo "Ваш яддро поддерживает CAN" || echo "Ваше ядро не поддерживает CAN"
    ```

    * Если после ввода этой команды ваша версия ядра поддерживает CAN, вы увидите: «Ваше ядро поддерживает CAN»; если нет — тогда: «Ваше ядро не поддерживает CAN».

## Настройка CAN0

    * Эта команда перезаписывает предыдущую конфигурацию CAN0 системы. После выполнения команды необходимо перезагрузить систему
    
    * 1 Мбит/с введите следующую команду
    ```bash
    ip link set can0 type can bitrate 1000000
    ```
    
    * 2 Мбит/с введите следующую команду
    ```bash
    ip link set can0 type can bitrate 2000000
    ```

## Настройка UUID для CAN ID

    * Войдите в графический интерфейс принтера. Перейдите в раздел настроек слева, выберите `fluidd` как `{…}` или `mainsail` как «Машину»; нажмите, чтобы найти файл `printer.cfg`.

    <ImageView image={require('@site/docs/General/get-id/img/fluidd-cfg.png').default} size="50%" align="left" />

    * Скопируйте найденный UUID и вставьте его в раздел `[mcu]` файла `printer.cfg`, соответствующий параметру `canbus_uuid: `. Сохраните файл, перезагрузитесь и подключитесь к контроллеру. Если Knipper сообщает о необходимости обновления прошивки или ошибке ADC, это значит, что Knipper успешно подключен к контролллеру.

    <ImageView image={require('@site/docs/General/get-id/img/canbus-uuid.png').default} size="50%" align="left" />

        :::danger

        Внимание: Все ID в документе являются примерами; каждый реальный контроллер имеет уникальный адрес. Проверьте и измените ID, соответствующий вашему контроллеру.

        :::