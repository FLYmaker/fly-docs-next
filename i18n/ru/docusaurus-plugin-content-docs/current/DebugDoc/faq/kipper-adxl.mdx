---
sidebar_position: 5
sidebar_label: Использование акселерометра
---



## Установка зависимых пакетов

:::tip
Рекомендуется использовать SSH-рутины, такие как `MobaXterm_Personal`
:::

:::tip
На верхней машине FLY не требуется выполнения, уже включена зависимость акселерометра
:::

    * Пожалуйста, последовательно выполните следующую команду для установки зависимых пакетов
    * Обратите внимание: при работе с процессором времени на установку может потребоваться много времени, до 10-20 минут. Пожалуйста, дождитесь завершения установки. В некоторых случаях, если у主板а слишком мало оперативной памяти, установка может не проходить.

        ```bash
        sudo apt install python3-numpy python3-matplotlib libatlas-base-dev
        ```

        ```bash
        ~/klippy-env/bin/pip install matplotlib numpy
        ```

## Тестирование акселерометра

    * Необходимо сначала выровнять перед выполнением тестов
    * В консоли выполните команду `ACCELEROMETER_QUERY`
    * Для нескольких акселерометров можно указать тест определенного `ACCELEROMETER_QUERY CHIP=<ADXL>`, где `<ADXL>` нужно изменить на имя соответствующего акселерометра
    * Если появляются ошибки, проверьте соединения и конфигурации
    * Обычный вывод приведен на рисунке ниже
        <ImageView image={require('@site/docs/DebugDoc/faq/img/adxl_1.webp').default} size="80%" align="center" />
    * Так можно будет измерять компенсацию колебаний

## Калибровка акселерометра

    * Выровнять
    * В консоли введите `SHAPER_CALIBRATE` чтобы начать автоматическую калибровку X,Y
    * После завершения калибровки выполните команду `SAVE_CONFIG` для сохранения данных
    * Также можно использовать `SHAPER_CALIBRATE AXIS=X` для автотраекторизации одного оси
    * Процесс калибровки может занять довольно много времени, пожалуйста, дождитесь

:::tip
Внимание! Если во время тестирования слишком сильно колеблется принтер, нажмите кнопку экстренной остановки или отправьте `M112` чтобы прекратить.
:::

    * Высокий параметр `accel_per_hz` может сделать колебания более сильными. Можно снизить его значение.

        ```cfg
        [resonance_tester]
        accel_per_hz: 50  # Допустимое значение по умолчанию - 75
        ```