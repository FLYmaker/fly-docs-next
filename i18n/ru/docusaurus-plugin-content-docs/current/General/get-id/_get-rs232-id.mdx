import ImageView from '@site/src/components/ImageView';

## Поиск ID RS232

### Внимание перед поиском устройства

    * Перед поиском ID RS232, пожалуйста, [подключитесь к SSH](/docs/DebugDoc/BasicTutorial/index.mdx "Нажмите для перехода")
    * Обратите внимание, что необходимо использовать сетевое подключение к SSH, а не последовательный порт
    * Пожалуйста, убедитесь, что UTOR подключен, и что кабель, подключенный к верхнему компьютеру, имеет возможность передачи данных
    * Если вы используете G2T, убедитесь, что система поддерживает подключение через UART

### Поиск устройства

    * Теперь, когда вы успешно вошли в систему верхнего компьютера, вы можете ввести `lsusb` для поиска устройства. Возможны следующие ситуации:
        * Если при вводе `lsusb` система сообщает, что команда `ls` не найдена, введите следующую команду для установки:
            ```bash
            sudo apt-get install usbutils
            ```
        * Если после ввода `lsusb` ничего не происходит, это проблема системы, и мы не можем помочь. Вам нужно заменить систему или использовать проверенную систему
        * Появляется информация, как на изображении ниже. Обратите внимание, что это только для справки. Вам нужно только определить символы после ID
        <ImageView image={require('@site/docs/General/get-id/img/7523.png').default} size="100%" align="left" />
    * `1a86:7523` принадлежит устройству, которое вы будете использовать. Не обращайте внимания на последующие подсказки, так как проблемы с системой могут привести к их неполному отображению или полному отсутствию
    * Если устройство не обнаружено, проверьте, правильно ли подключен кабель данных, и правильно ли прошит микропрограмма.

    :::warning Внимание

    Команды ниже можно использовать только при наличии `1a86:7523`

    :::


### Поиск ID RS232

    ```bash
    ls /dev/serial/by-path/*
    ```

    <ImageView image={require('@site/docs/General/get-id/img/rs232-id.png').default} size="100%" align="left" />
    * Если после ввода `ls /dev/serial/by-path/*` ID не появляется, но `lsusb` показывает устройство, замените верхний компьютер или систему верхнего компьютера
    * Обратите внимание, что при использовании UTOR будет выводиться три ID, и если вы ранее использовали другую систему UTOR, она может сохранить записи, что приведет к появлению нескольких ID при поиске
    * Убедитесь, что после ID стоит `-port0`, иначе использовать его будет невозможно

    :::warning Внимание

    Убедитесь, что инструментальная плата и UTOR заземлены!!! Иначе подключение к инструментальной плате будет невозможно!!!

    :::

### Заполнение ID RS232 в конфигурации

    * Откройте веб-интерфейс принтера, в левой боковой панели найдите: для fluidd: `{…}`; для mainsail: `машина`, нажмите на нее, чтобы найти `printer.cfg`

        <ImageView image={require('@site/docs/General/get-id/img/fluidd-cfg.png').default} size="50%" align="left" />

    * Скопируйте синий ID и вставьте его в конфигурацию `printer.cfg` в узел `[mcu]` в поле `serial: `. Сохраните и перезагрузите, чтобы подключиться к материнской плате. Если Klipper выдает ошибку ``ADC out of range``, это нормально, подключите термопарную плату и термопару, настройте пины термопары для экструдера и термопары для термоплата, сохраните и перезагрузите.

        <ImageView image={require('@site/docs/General/get-id/img/cfg-usb-id.png').default} size="50%" align="left" />

    :::warning Внимание

    * Для ID RS232 необходимо настроить `baud:` и `restart_method:command`
    * Ниже приведен пример конфигурации

    :::

        ```cfg
        [mcu SHT36]
        serial: /dev/serial/by-path/platform-1c1c000.usb-usb-0:1.2:1.0-port0
        baud: 250000
        restart_method:command
        ```

    :::danger

    Обратите внимание: Все ID, упомянутые в документации, являются примерами. Фактические ID каждой материнской платы отличаются, пожалуйста, изменяйте и заполняйте их в соответствии с полученными ID.

    :::

    :::danger

    Обратите внимание, что следующий ID нельзя использовать!!!!!!

    :::

        ```cfg
        serial: /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
        ```
----