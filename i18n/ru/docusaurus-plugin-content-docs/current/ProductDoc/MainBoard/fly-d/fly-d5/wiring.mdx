---
sidebar_position: 4
sidebar_label: Подключение материнской платы
---

import ImageView from '@site/src/components/ImageView';

# Подключение материнской платы

## Схема интерфейсов

### Описание интерфейсов

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/interface.png').default} size="50%" align="center" />

----

### Описание контактов

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/pin.png').default} size="50%" align="center" />

---

## Подключение питания

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/power.png').default} size="40%" align="center" />

----

## Установка драйверов

### Переключение режимов драйверов на материнской плате

* **Режим STEP/DIR.** В этом режиме установка микрошагов производится с помощью перемычек, а регулировка тока - с помощью потенциометра. Наиболее распространены драйверы A4988, для работы с ними необходимо обратиться к таблице конфигурации микрошагов, предоставленной производителем, и настроить микрошаги с помощью перемычек.
* **Режим UART.** Наиболее часто используются драйверы: TMC2208, TMC2209, TMC2226. Эти драйверы могут осуществлять асинхронную последовательную коммуникацию через UART с контроллером, позволяя изменять конфигурацию микрошагов, тока работы и режима тихой работы через изменение конфигурационного файла.
* **Режим SPI.** Наиболее часто используются драйверы: TMC5160, TMC2230. Эти драйверы осуществляют синхронную последовательную коммуникацию через SPI с контроллером, также позволяя изменять конфигурацию микрошагов, тока работы и режима тихой работы через изменение конфигурационного файла.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/drive-dip.png').default} size="40%" align="center" />

----

### Установка драйверов

* Перед установкой драйверов необходимо провести соответствующую проверку, чтобы избежать повреждения драйверов или материнской платы.
* **FLY драйверы:** Если не используется функция бесконечного возврата домой, установите переключатель в положение 1; в противном случае, если вы хотите использовать функцию бесконечного возврата домой, установите переключатель в положение ON.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/fly2209-dip.png').default} size="40%" align="center" />

    :::danger

    * **Внимание!!! При установке модулей драйверов обязательно убедитесь, что направление вставки правильное, то есть контакт EN находится в левом верхнем углу, иначе могут быть повреждены драйверы или даже материнская плата!!! Убедитесь, что на драйверы наклеены радиаторы!!!**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/drive-install.png').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/sensorless.png').default} size="40%" align="center" />

----

## Подключение шаговых двигателей

:::info
* Независимо от производителя двухфазных шаговых двигателей, они всегда имеют четыре провода. Независимо от цвета проводов, будь то черный, белый, зеленый или желтый, они всегда соответствуют четырем проводам. Поэтому нам нужно разделить провода на две группы: A и B.
* Для двухфазных четырехпроводных шаговых двигателей нам не нужно знать, какая группа A, а какая B, главное - определить, что они действительно составляют группу, и в конфигурации можно изменить направление двигателя.
:::

* В 3D принтерах наиболее часто используются двухфазные четырехпроводные шаговые двигатели, принцип работы которых изображен на схеме. Для определения последовательности проводов шагового двигателя существует два метода:
    * Подключите любые два провода фазы, если при вращении оси двигателя возникает значительное сопротивление, то эти два провода образуют группу. В противном случае они не являются группой, и необходимо проверить другие провода фазы.
    * Используйте мультиметр, установив его на режим проверки целостности цепи, проверьте любые два провода фазы шагового двигателя. Если они соединены, то они образуют группу; если нет, то они не являются группой, и необходимо проверить другие провода фазы.
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/motor-sch.png').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/motor.png').default} size="40%" align="center" />

----

## Подключение нагревателя

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/heater.png').default} size="60%" align="center" />

----

## Подключение термокровати

* **AC термокровать:** При подключении твердотельного реле обратите внимание на правильность подключения входа и выхода.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-ac-1.png').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-ac-2.png').default} size="40%" align="center" />

* **DC термокровать:** При подключении DC термокровати к MOSFET на плате, обратите внимание на мощность использования, максимальный ток DC термокровати не должен превышать 10A. Если ток превышает 10A, рекомендуется использовать внешний модуль MOSFET для подключения термокровати, иначе это может привести к необратимому повреждению материнской платы.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-dc.png').default} size="60%" align="center" />

----

## Подключение термисторов для измерения температуры

### Описание типов термистора

* Способ подключения термистора показан на следующем рисунке. Тип термистора уточняйте у продавца.

* Если термистор приобретен у fly (как показано на рисунке), установите sensor_type в конфигурации как: **ATC Semitec 104GT-2**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-1.png').default} size="30%" align="center" />

* Если используется обычный NTC 100K (как показано на рисунке), установите sensor_type в конфигурации как: **Generic 3950**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-2.png').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-3.png').default} size="40%" align="center" />

----

### Подключение термистора к материнской плате

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-4.png').default} size="40%" align="center" />

----

## Подключение вентиляторов

* **Подключение вентиляторов**

    :::tip

    На схеме ниже, интерфейсы, выделенные красным, контролируются одним и тем же контактом, то есть два вентилятора могут работать одновременно.

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/fan.png').default} size="30%" align="center" />

----

## Подключение концевых выключателей

* Концевые выключатели бывают нормально-открытого (NO) и нормально-закрытого (NC) типа. Для 3D принтеров рекомендуется использовать **нормально-закрытые (NC)** выключатели, чтобы в случае проблем с проводкой системы они могли своевременно сигнализировать об ошибке, предотвращая ненужные столкновения и повреждения принтера.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/endstop.png').default} size="40%" align="center" />

----

## Подключение датчика выравнивания

### Подключение индуктивного датчика

* Официальная рекомендация VORON - использовать индуктивный датчик Omron TL-Q5MC (ранее рекомендовался PL08N, принцип работы тот же, отличается только дальность обнаружения) для выравнивания термокровати. Способ подключения показан на следующем рисунке.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/pl08.png').default} size="40%" align="center" />

----

### Подключение BL-Touch

* BL-touch имеет пять проводов, три из которых составляют первую группу, отвечающую за питание датчика и подъем/опускание иглы, вторая группа - это земля и сигнальный провод, выводящий сигнал концевого выключателя. При подключении BL-touch внимательно проверяйте последовательность проводов, неправильное подключение может привести к постоянному повреждению датчика и материнской платы!!! Способ подключения показан на следующем рисунке.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bltouch.png').default} size="40%" align="center" />

----

### Подключение Klicky

* Klicky - это сторонний датчик выравнивания, который можно изготовить самостоятельно с низкими затратами, при этом он стабилен и имеет высокую стоимость, рекомендуется к использованию. Способ подключения показан на следующем рисунке.
* Ссылка на проект: [jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "Ссылка на проект, кликните для перехода")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/klicky.png').default} size="40%" align="center" />

----

### Подключение Voron Tap

* Tap - это зондирующий датчик на основе сопла, подходящий для дизайнов принтеров V2 и Trident. Весь инструментальный узел перемещается для активации оптического выключателя, что обеспечивает более высокую точность, чем обычные концевые выключатели, и позволяет использовать практически все доступные на рынке печатные платформы.

    :::warning

    Voron Tap не рекомендуется подключать к **24V**, поскольку в некоторых версиях это может привести к сгоранию датчика Tap, что не связано с продуктами Fly, а является недостатком конструкции Voron Tap, пожалуйста, учтите это!!!

    :::

    :::danger

    Внимание: 5В и GND не должны быть перепутаны, иначе это может повредить датчик Tap и даже материнскую плату!!!

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/tap.png').default} size="40%" align="center" />

----

## Подключение FLY-Mini12864 LCD

* На следующем рисунке показан способ подключения mini12864 от FLY, для экранов других производителей обратитесь к соответствующим производителям. Если экран mini12864 подключен неправильно, это может привести к тому, что хост не сможет подключиться к MCU. Если до подключения mini12864 вы могли подключиться к MCU, а после подключения не можете, попробуйте отсоединить провода mini12864!!!

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/mini12864.png').default} size="30%" align="center" />

----

## Подключение к хосту

* Материнская плата подключается к USB-порту хоста через интерфейс TypeC, также возможно подключение через последовательный порт. Здесь описано только первое.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/connect-host.png').default} size="40%" align="center" />

----