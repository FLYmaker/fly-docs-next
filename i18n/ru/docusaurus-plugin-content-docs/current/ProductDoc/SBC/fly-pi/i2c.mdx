---
sidebar_position: 11
sidebar_label: Использование I2C
---






# Использование I2C

    * Используйте интерфейс I2C на 40PIN верхнего уровня
    * В этом руководстве используется датчик I2C FLY-PI V2LM75 и I2C2 в качестве примера!!!
    * Обратите внимание, что если I2C1 занят другими устройствами, его нельзя использовать!!!
    * Убедитесь, что подключение устойчиво и надежно!!!

## Открытие I2C через FLY Tools

    * Найдите Overlays и выберите i2c2 и i2c0
    * Обратите внимание, что если I2C1 занят другими устройствами, его нельзя использовать!!!
    * Сохраните и перезагрузите

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c.webp').default} size="80%" align="center" />


## Подключение и поиск
    * Это руководство использует PI V2 в качестве примера
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c2.webp').default} size="80%" align="center" />

    * После подключения к верхнему уровню FLY через SSH введите ниже указанную команду, чтобы получить следующий вывод
    * Если вы используете `I2C0`, замените `2` на `0` в команде ниже

    ```cfg
    sudo i2cdetect -y -r 2
    ```

<ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c1.webp').default} size="80%" align="center" />

    * Обратите внимание, что при нормальных условиях, после нажатия Enter сразу появится вышеуказанное содержимое с адресом
    * Обратите внимание, что адрес является случайным
    * Обратите внимание, что если провода неправильно подключены, подключены наоборот, конфигурация не открыта или модуль поврежден, вывод будет неправильным
    * Адрес нужно самостоятельно перевести из шестнадцатеричной системы в десятичную и вписать в конфигурацию после `i2c_address:`
    * Вы можете использовать поиск в браузере для нахождения онлайн-конвертера систем счисления

## Конфигурация

    ```cfg
    [mcu host]
    serial: /tmp/klipper_host_mcu

    [temperature_sensor my_sensor]
    sensor_type: LM75
    i2c_address:72
    # #   По умолчанию 72 (0x48). Обычный диапазон от 72 до 79 (0x48-0x4F) и 3
    # #   нижних бита адреса настраиваются через контакты на чипе
    # #   (обычно с помощью перемычек или жесткой проводки).
    i2c_mcu:host
    i2c_bus:i2c.2
    # i2c_software_scl

    ```